## Лента постов от друзей
В качестве базы данных для кеширования выбран **Redis**.  
Схема данных в redis:  
`string posts:post_id (user_id, text)` - кеш постов  
`zset users:user_id post_id ...` - посты пользователя  
`zset feeds:user_id post_id ...` - лента пользователя

Запуск приложения
```sh
docker compose up
```

Генерация и вставка данных в postgresql
```sh
./db/generate_data.sh
```

Генерация и вставка данных в redis 
```sh
./cache/generate_data.sh
```

Остановка приложения
```sh
docker compose down
```

#### Кеш постов
Пост хранится 1 час, причем предусмотрено автоматическое удаление редко запрашиваемых постов. 
Актуализируется при обновлении или запрашивании поста.

#### Посты пользователя
Хранятся последние 1000 постов пользователя. Актуализируется при добавлении или удалении поста.

#### Лента пользователя
Хранятся последние 1000 постов друзей пользователя. Актуализируется при добавлении или удалении друга, 
создании или обновлении или удалении поста друга.